<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>AutoSemaphore (Foundation util Library Module – org.tquadrat.foundation.util 0.4.8 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.tquadrat.foundation.util, package: org.tquadrat.foundation.util, interface: AutoSemaphore">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="org.tquadrat.foundation.util.AutoSemaphore interface">
<meta name="keywords" content="acquireToken()">
<meta name="keywords" content="acquireTokenUninterruptibly()">
<meta name="keywords" content="getSemaphore()">
<meta name="keywords" content="of()">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="overflow:auto;"><img src="../../../../../resources/tquadrat_logo.jpg" alt="tquadrat.org"style="float:right;"><div style="font-family:sans-serif;font-size:40px;font-weight:bold;padding-left:30px;"><p>tquadrat's <i>Foundation</i> Library<br>org.tquadrat.foundation.util 0.4.8 API</p></div>      </div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AutoSemaphore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">org.tquadrat.foundation.util</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.tquadrat.foundation.util</a></div>
<h1 title="Interface AutoSemaphore" class="title">Interface AutoSemaphore</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="internal/AutoSemaphoreImpl.html" title="class in org.tquadrat.foundation.util.internal">AutoSemaphoreImpl</a></code>, <code><a href="internal/TimeoutSemaphoreImpl.html" title="class in org.tquadrat.foundation.util.internal">TimeoutSemaphoreImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="annotations"><a href="https://tquadrat.github.io/foundation-base/javadoc/org.tquadrat.foundation.base/org/tquadrat/foundation/annotation/ClassVersion.html" title="class or interface in org.tquadrat.foundation.annotation" class="external-link">@ClassVersion</a>(<a href="https://tquadrat.github.io/foundation-base/javadoc/org.tquadrat.foundation.base/org/tquadrat/foundation/annotation/ClassVersion.html#sourceVersion()" title="class or interface in org.tquadrat.foundation.annotation" class="external-link">sourceVersion</a>="$Id: AutoSemaphore.java 1136 2024-05-30 18:25:38Z tquadrat $")
<a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/org/apiguardian/api/API.html" title="class or interface in org.apiguardian.api" class="external-link">@API</a>(<a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/org/apiguardian/api/API.html#status()" title="class or interface in org.apiguardian.api" class="external-link">status</a>=<a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/org/apiguardian/api/API.Status.html#STABLE" title="class or interface in org.apiguardian.api" class="external-link">STABLE</a>,
     <a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/org/apiguardian/api/API.html#since()" title="class or interface in org.apiguardian.api" class="external-link">since</a>="0.4.8")
</span><span class="modifiers">public sealed interface </span><span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-64">AutoSemaphore</a></span>
<span class="permits">permits <a href="internal/AutoSemaphoreImpl.html" title="class in org.tquadrat.foundation.util.internal">AutoSemaphoreImpl</a>, <a href="internal/TimeoutSemaphoreImpl.html" title="class in org.tquadrat.foundation.util.internal">TimeoutSemaphoreImpl</a></span></div>
<div class="block"><p>An implementation of
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html" title="class or interface in java.util.concurrent" class="external-link"><code>Semaphore</code></a>
  that allows to be used with <code>try-with-resources</code>.</p>
  <p>Use this class like this:</p>
  <pre><code>
  final static final int MAX_AVAILABLE = …
  final AutoSemaphore semaphore = AutoSemaphore.of( MAX_AVAILABLE );
  …
  try( final var token = semaphore.acquireToken() )
  {
      // Do something …
  }
  catch( final InterruptedException e )
  {
      // Handle the exception …
  }
  </code></pre>
  <p>A call to
  <a href="#of(int,java.time.Duration)"><code>of(int,Duration)</code></a>
  or
  <a href="#of(int,boolean,java.time.Duration)"><code>of(int,boolean,Duration)</code></a>
  creates a <code>AutoSemaphore</code> instance whose permits will be released
  automatically after the given period of time. Do not acquire permits from
  the instance returned by a call to
  <a href="#getSemaphore()"><code>getSemaphore()</code></a>
  on such an instance, as it may behave unexpectedly.</p></div>
<dl class="notes">
<dt><span class="simpleTagLabel">Author:</span></dt>
  <dd>Thomas Thrien (<a href="mailto:thomas.thrien@tquadrat.org">thomas.thrien@tquadrat.org</a>)</dd>
<dt>Version:</dt>
<dd>$Id: AutoSemaphore.java 1136 2024-05-30 18:25:38Z tquadrat $</dd>
<dt>Since:</dt>
<dd>0.4.8</dd>

<dt>
    <span class='simpleTagLabel'>UML Diagram</span>
</dt>
<dd>
    <a class='module-graph'
       href='doc-files/AutoSemaphore.svg'>
        <img alt='UML Diagram for "org.tquadrat.foundation.util.AutoSemaphore"'
             src='doc-files/AutoSemaphore.svg'
             style='vertical-align:top'
             width='250'>&#x2060;</img>
        <span style='background:white; border: solid black 2px;'>
            <h2>UML Diagram for &quot;org.tquadrat.foundation.util.AutoSemaphore&quot;</h2>
            <img alt='UML Diagram for "org.tquadrat.foundation.util.AutoSemaphore"'
                 src='doc-files/AutoSemaphore.svg'
                 style='border: solid black 1px; vertical-align:top'>&#x2060;</img>
        </span>
    </a>
</dd></dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#acquireToken()" class="member-name-link">acquireToken</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Acquires a permit from this semaphore, blocking until one
  is available, or the thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>,
  and returns a token object that is used for
  <code>try-with-resources</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#acquireToken(int)" class="member-name-link">acquireToken</a><wbr>(int&nbsp;permits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Acquires the given number of permits from this semaphore,
  blocking until all are available, or the thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>,
  and returns a token object that is used for
  <code>try-with-resources</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#acquireTokenUninterruptibly()" class="member-name-link">acquireTokenUninterruptibly</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Acquires a permit from this semaphore, blocking until one
  is available, and returns a token object that is used for
  <code>try-with-resources</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#acquireTokenUninterruptibly(int)" class="member-name-link">acquireTokenUninterruptibly</a><wbr>(int&nbsp;permits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Acquires the given number of permits from this semaphore,
  blocking until all are available, and returns a token object that is
  used for <code>try-with-resources</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html" title="class or interface in java.util.concurrent" class="external-link">Semaphore</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSemaphore()" class="member-name-link">getSemaphore</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns a reference to the raw semaphore.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#of(int)" class="member-name-link">of</a><wbr>(int&nbsp;permits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and non-fair fairness setting.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#of(int,boolean)" class="member-name-link">of</a><wbr>(int&nbsp;permits,
 boolean&nbsp;fair)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and the given fairness setting.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#of(int,boolean,java.time.Duration)" class="member-name-link">of</a><wbr>(int&nbsp;permits,
 boolean&nbsp;fair,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and the given fairness setting.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1"><code>static <a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1"><code><a href="#of(int,java.time.Duration)" class="member-name-link">of</a><wbr>(int&nbsp;permits,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1">
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and non-fair fairness setting.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="acquireToken()">
<h3>acquireToken</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-106">acquireToken</a></span>()
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></span></div>
<div class="block"><p>Acquires a permit from this semaphore, blocking until one
  is available, or the thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>,
  and returns a token object that is used for
  <code>try-with-resources</code>.</p>
  <p>Acquires a permit, if one is available and returns immediately,
  reducing the number of available permits by one.</p>
  <p>If no permit is available then the current thread becomes disabled
  for thread scheduling purposes and lies dormant until one of two things
  happens:</p>
  <ul>
    <li>Some other thread invokes the
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html#release()" title="class or interface in java.util.concurrent" class="external-link"><code>release()</code></a>
    method for this semaphore and the current thread is next to be
    assigned a permit; or</li>
    <li>Some other thread
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupts</a>
    the current thread.</li>
  </ul>
  <p>If the current thread:
  <ul>
    <li>has its interrupted status set on entry to this method; or</li>
    <li>is
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>
    while waiting for a permit,
  </ul>
  then
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a>
  is thrown and the current thread's interrupted status is cleared.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The token.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - The current thread was interrupted.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireToken(int)">
<h3>acquireToken</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-152">acquireToken</a></span><wbr><span class="parameters">(int&nbsp;permits)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block"><p>Acquires the given number of permits from this semaphore,
  blocking until all are available, or the thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>,
  and returns a token object that is used for
  <code>try-with-resources</code>.</p>
   <p>Acquires the given number of permits, if they are available, and
   returns immediately, reducing the number of available permits by the
   given amount. This method atomically acquires the permits all at
   once.</p>
   <p>If insufficient permits are available then the current thread
   becomes disabled for thread scheduling purposes and lies dormant until
   one of two things happens:</p>
   <ul>
       <li>Some other thread invokes one of the
       <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html#release()" title="class or interface in java.util.concurrent" class="external-link"><code>release()</code></a>
       methods for this semaphore and the current thread is next to be
       assigned permits and the number of available permits satisfies
       this request; or</li>
       <li>Some other thread
       <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupts</a>
       the current thread.</li>
  </ul>
  <p>If the current thread:
  <ul>
      <li>has its interrupted status set on entry to this method; or</li>
      <li>is
      <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>
      while waiting for a permit,
  </ul>
  <p>then an
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link"><code>InterruptedException</code></a>
  is thrown and the current thread's interrupted status is cleared. Any
  permits that were to be assigned to this thread are instead assigned to
  other threads trying to acquire permits, as if permits had been made
  available by a call to
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html#release()" title="class or interface in java.util.concurrent" class="external-link"><code>release()</code></a>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The number of permits to acquire.</dd>
<dt>Returns:</dt>
<dd>The token.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/InterruptedException.html" title="class or interface in java.lang" class="external-link">InterruptedException</a></code> - The current thread is interrupted.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - The given number of permits to
      acquire is negative.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireTokenUninterruptibly()">
<h3>acquireTokenUninterruptibly</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-176">acquireTokenUninterruptibly</a></span>()</div>
<div class="block"><p>Acquires a permit from this semaphore, blocking until one
  is available, and returns a token object that is used for
  <code>try-with-resources</code>.</p>
  <p>Acquires a permit, if one is available and returns immediately,
  reducing the number of available permits by one.</p>
  <p>If no permit is available then the current thread becomes disabled
  for thread scheduling purposes and lies dormant until some other thread
  invokes the
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html#release()" title="class or interface in java.util.concurrent" class="external-link"><code>release()</code></a>
  method for this semaphore and the current thread is next to be assigned
  a permit.</p>
  <p>If the current thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>
  while waiting for a permit then it will continue to wait, but the time
  at which the thread is assigned a permit may change compared to the
  time it would have received the permit had no interruption occurred.
  When the thread does return from this method its interrupt status will
  be set.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The token.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireTokenUninterruptibly(int)">
<h3>acquireTokenUninterruptibly</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-204">acquireTokenUninterruptibly</a></span><wbr><span class="parameters">(int&nbsp;permits)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block"><p>Acquires the given number of permits from this semaphore,
  blocking until all are available, and returns a token object that is
  used for <code>try-with-resources</code>.</p>
  <p>Acquires the given number of permits, if they are available, and
  returns immediately, reducing the number of available permits by the
  given amount. This method atomically acquires the permits all at
  once.</p>
  <p>If insufficient permits are available then the current thread
  becomes disabled for thread scheduling purposes and lies dormant until
  some other thread invokes one of the
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html#release()" title="class or interface in java.util.concurrent" class="external-link"><code>release()</code></a>
  methods for this semaphore and the current thread is next to be
  assigned permits and the number of available permits satisfies this
  request.</p>
  <p>If the current thread is
  <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt()" title="class or interface in java.lang" class="external-link">interrupted</a>
  while waiting for permits then it will continue to wait and its
  position in the queue is not affected.  When the thread does return
  from this method its interrupt status will be set.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The number of permits to acquire.</dd>
<dt>Returns:</dt>
<dd>The token.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - The given number of permits to
      acquire is negative.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSemaphore()">
<h3>getSemaphore</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Semaphore.html" title="class or interface in java.util.concurrent" class="external-link">Semaphore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-211">getSemaphore</a></span>()</div>
<div class="block">Returns a reference to the raw semaphore.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The semaphore.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="of(int)">
<h3>of</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-222">of</a></span><wbr><span class="parameters">(int&nbsp;permits)</span></div>
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and non-fair fairness setting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The initial number of permits available. This value may
      be negative, in which case releases must occur before any acquires
      will be granted.</dd>
<dt>Returns:</dt>
<dd>The new <code>AutoSemaphore</code> instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="of(int,boolean)">
<h3>of</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-235">of</a></span><wbr><span class="parameters">(int&nbsp;permits,
 boolean&nbsp;fair)</span></div>
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and the given fairness setting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The initial number of permits available. This value may
      be negative, in which case releases must occur before any acquires
      will be granted.</dd>
<dd><code>fair</code> - <code>true</code> if this semaphore will guarantee first-in
      first-out granting of permits under contention, else <code>false</code>.</dd>
<dt>Returns:</dt>
<dd>The new <code>AutoSemaphore</code> instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="of(int,java.time.Duration)">
<h3>of</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-248">of</a></span><wbr><span class="parameters">(int&nbsp;permits,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</span></div>
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and non-fair fairness setting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The initial number of permits available. This value may
      be negative, in which case releases must occur before any acquires
      will be granted.</dd>
<dd><code>duration</code> - The timeout for a permit; after the given period of
      time, an acquired permit will be released automatically.</dd>
<dt>Returns:</dt>
<dd>The new <code>AutoSemaphore</code> instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="of(int,boolean,java.time.Duration)">
<h3>of</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="AutoSemaphore.html" title="interface in org.tquadrat.foundation.util">AutoSemaphore</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org.tquadrat.foundation.util/org/tquadrat/foundation/util/AutoSemaphore.html#line-263">of</a></span><wbr><span class="parameters">(int&nbsp;permits,
 boolean&nbsp;fair,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;duration)</span></div>
<div class="block">Creates an <code>AutoSemaphore</code> instance with the given number of
  permits and the given fairness setting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>permits</code> - The initial number of permits available. This value may
      be negative, in which case releases must occur before any acquires
      will be granted.</dd>
<dd><code>fair</code> - <code>true</code> if this semaphore will guarantee first-in
      first-out granting of permits under contention, else <code>false</code>.</dd>
<dd><code>duration</code> - The timeout for a permit; after the given period of
      time, an acquired permit will be released automatically.</dd>
<dt>Returns:</dt>
<dd>The new <code>AutoSemaphore</code> instance.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright © 2002-2025 by Thomas Thrien (tquadrat.org)</small></p>
</footer>
</div>
</div>
</body>
</html>
